<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Serialization demo</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

  <link rel="stylesheet" href="node_modules/gridstack/dist/gridstack-extra.min.css" />
  <link rel="stylesheet" href="node_modules/gridstack/dist/gridstack.css" />
  <link rel="stylesheet" href="demo.css" />
  <link rel="stylesheet" href="martin_flex.css" />

  <script src="node_modules/gridstack/dist/gridstack-all.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/radar.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/hierarchy.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/map.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/geodata/continentsLow.js"></script>
  
  <script
  src="https://code.jquery.com/jquery-3.6.1.js"
  integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI="
  crossorigin="anonymous"></script>



  <style type="text/css">
    .btnLayout
    {
        display:flex;
        flex-direction: column;
        margin: 8px;
    }
    .gsContent
    {
        width: 500px;
        height: 40px;
    }
  </style>

</head>

<body>
  
  <div>
    <button id="btnStart" class="btnLayout">開始</button>
    <button id="btnCreate1" class="btnLayout">產生Chart</button>
    <button id="btnCreate2" class="btnLayout">產生警報區塊</button>
    <button id="btnCreate2" class="btnLayout">SaveToTextArea</button>
  </div>
  <textarea id="gsContent" class="gsContent"></textarea>

  <div id="gridstack" class="grid-stack"></div>
  <br />

  <script type="text/javascript">

    // 3.1 full method saving the grid options + children (which is recursive for nested grids)
    function saveFullGrid() {
      serializedFull = grid.save(true, true);
      serializedData = serializedFull.children;
      document.querySelector('#saved-data').value = JSON.stringify(serializedFull, null, '  ');
    }


    var grid = GridStack.init({
      column: 24,
      margin:8,//設定item跟item方塊間的距離，預設是10px
      animate: false,
      cellHeight: '100px', //"auto" see other possible values (best to do in here)
      cellHeightThrottle: 100,
      //dragIn: '.newWidget', class that can be dragged from outside 目前用不到，先記下來
      draggable: { handle: '.panel-title', appendTo: 'body' },
      float:false,
      disableOneColumnMode: false
    });


    //var items = [
    //  { w: 8, h: 4, x: 0, y: 0, content: StackItemContentTemplate_1},
    //  { w: 8, h: 4, x: 9, y: 0, content: StackItemContentTemplate_2}
    //];

    //grid.load(items);
    //GridStack.init();


    let options = {
      alwaysShowResizeHandle: 'mobile' // which defaults to /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
    };

    GridStack.init(options);

    //先隱藏掉gridstack
    document.getElementById("gridstack").style.visibility = 'hidden';
    
    var el=document.getElementById("btnStart")
      .addEventListener("click",function ShowGridStack(){
        var gs=document.getElementById("gridstack").style.visibility = 'visible';
        console.log("test");
    });

    
    var el2=document.getElementById("btnCreate1")
      .addEventListener("click",function (){
        Create1();
        AddChart1("chartdiv1");
    });

    var el3=document.getElementById("btnCreate2")
      .addEventListener("click",function (){
        Create2();
    });

   




  </script>
  <script src="ContentCreator.js"></script>
  <script src="AddCharts_chartdiv1_function.js"></script>
</body>

</html>