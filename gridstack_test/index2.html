<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Serialization demo</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

  <link rel="stylesheet" href="node_modules/gridstack/dist/gridstack-extra.min.css" />
  <link rel="stylesheet" href="node_modules/gridstack/dist/gridstack.css" />
  <link rel="stylesheet" href="demo.css" />

  <script src="node_modules/gridstack/dist/gridstack-all.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/radar.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/hierarchy.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/map.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/geodata/continentsLow.js"></script>

  <style type="text/css">
    
  </style>

</head>

<body>
  <div id="btnStart">開始</div>
  <div id="gridstack" class="grid-stack"></div>
  <br />
  <script type="text/javascript">

    var items = [
      { w: 8, h: 4, x: 0, y: 0, content: '<DIV class="panel-container"><DIV class="panel-title">0,0</DIV><DIV class="panel-content"><div class="ChartDefaultSize" id="chartdiv1"></div></DIV></DIV>' }, // will default to location (0,0) and 1x1
      { w: 8, h: 4, x: 8, y: 0, content: '<DIV class="panel-container"><DIV class="panel-title">4,0</DIV><DIV class="panel-content"><div class="ChartDefaultSize" id="chartdiv2"></div></DIV></DIV>' }, // will be placed next at (1,0) and 2x1
      { w: 8, h: 4, x: 17, y: 0, content: '<DIV class="panel-container"><DIV class="panel-title">8,0</DIV><DIV class="panel-content"><div class="ChartDefaultSize" id="chartdiv3"></div></DIV></DIV>' },
      { w: 6, h: 4, x: 0, y: 1, content: '<DIV class="panel-container"><DIV class="panel-title">0,1</DIV><DIV class="panel-content"><div class="ChartDefaultSize" id="chartdiv4"></div></DIV></DIV>' }, // will default to location (0,0) and 1x1
      { w: 6, h: 4, x: 6, y: 1, content: '<DIV class="panel-container"><DIV class="panel-title">3,1</DIV><DIV class="panel-content"><div class="ChartDefaultSize" id="chartdiv5"></div></DIV></DIV>' }, // will be placed next at (1,0) and 2x1
      { w: 6, h: 4, x: 12, y: 1, content: '<DIV class="panel-container"><DIV class="panel-title">6,1</DIV><DIV class="panel-content"><div class="ChartDefaultSize" id="chartdiv6"></div></DIV></DIV>' },
      { w: 6, h: 4, x: 18, y: 1, content: '<DIV class="panel-container"><DIV class="panel-title">9,1</DIV><DIV class="panel-content"><div class="ChartDefaultSize" id="chartdiv7"></div></DIV></DIV>' },
      { w: 18, h: 4, x: 0, y: 2, content: '<DIV class="panel-container"><DIV class="panel-title">0,2</DIV><DIV class="panel-content"><div class="ChartDefaultSize" id="chartdiv8"></div></DIV></DIV>' },
      { w: 6, h: 4, x: 18, y: 2, content: '<DIV class="panel-container"><DIV class="panel-title">9,2</DIV><DIV class="panel-content"><div class="ChartDefaultSize" id="chartdiv9"></div></DIV></DIV>' },
      { w: 6, h: 4, x: 0, y: 3, content: '<DIV class="panel-container"><DIV class="panel-title">9,2</DIV><DIV class="panel-content"><div class="ChartDefaultSize" id="chartdiv10"></div></DIV></DIV>' }
    ];


    var grid = GridStack.init({
      column: 24,
      margin:2,//設定item跟item方塊間的距離，預設是10px
      animate: false,
      cellHeight: '88px', //"auto" see other possible values (best to do in here)
      cellHeightThrottle: 100,
      //dragIn: '.newWidget', class that can be dragged from outside 目前用不到，先記下來
      draggable: { handle: '.panel-title', appendTo: 'body' },
      disableOneColumnMode: false
    });

    grid.load(items);
    GridStack.init();

    //grid.addWidget({w: 4,h: 4,x: 1,y: 1,content: '<DIV class="content-header">1,0</DIV>'});
    //grid.addWidget({w: 4,h: 4,x: 2,y: 1,content: '<DIV class="content-header">1,0</DIV>'});

    let options = {
      alwaysShowResizeHandle: 'mobile' // which defaults to /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
    };
    GridStack.init(options);

    //先隱藏掉gridstack
    document.getElementById("gridstack").style.visibility = 'hidden';
    
    var el=document.getElementById("btnStart")
      .addEventListener("click",function ShowGridStack(){
        var gs=document.getElementById("gridstack").style.visibility = 'visible';
        console.log("test");
    });


  </script>
  <script src="AddCharts_chartdiv1.js"></script>
  <script src="AddCharts_chartdiv2.js"></script>
  <script src="AddCharts_chartdiv3.js"></script>
  <script src="AddCharts_chartdiv4.js"></script>
  <script src="AddCharts_chartdiv5.js"></script>
  <script src="AddCharts_chartdiv6.js"></script>
  <script src="AddCharts_chartdiv7.js"></script>
  <script src="AddCharts_chartdiv8.js"></script>
  <script src="AddCharts_chartdiv9.js"></script>
  <script src="AddCharts_chartdiv10.js"></script>
</body>

</html>